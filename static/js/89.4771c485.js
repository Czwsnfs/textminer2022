"use strict";(self["webpackChunktextminer"]=self["webpackChunktextminer"]||[]).push([[89],{3089:function(i,t,l){l.r(t),l.d(t,{default:function(){return R}});var o=l(9812),e=l(5893),a=l(4220);const r={id:"wa_2"},d={id:"sample"},s=(0,o._)("br",null,null,-1),n=(0,o._)("div",{style:{display:"inline-block",height:"65%",width:"7%","line-height":"65px","margin-left":"12px","border-radius":"18%","text-align":"center","font-size":"20px","background-color":"white"}},"词性类别图示",-1),h={id:"fir_msg",class:"msg"},p=(0,o._)("h3",null,"修改前分析结果:",-1),_={id:"sec_msg",class:"msg"},c=(0,o._)("h3",null,"修改后分析结果:",-1),g={id:"ribbon"},u={id:"diy"},w=(0,o._)("p",null,"用户自定义词语",-1),f=(0,o._)("hr",null,null,-1),y=(0,o.Uk)(" 词语： "),k=(0,o.Uk)(" 词性: "),v=(0,o.uE)('<option value="">请选择词性</option><option value="n">名词</option><option value="a">形容词</option><option value="v">动词</option><option value="c">副词</option><option value="nz">专有名词</option><option value="r">代词</option><option value="m">数词</option><option value="p">量词</option><option value="c">连词</option><option value="u">助词</option><option value="x">标点符号</option>',12),b=[v],m=(0,o.Uk)("  "),x=(0,o.Uk)("  "),z=(0,o._)("button",{style:{height:"30px","font-size":"18px",display:"block"}},"存储到数据中心",-1),C={id:"list"},D=(0,o.Uk)(" 用户自定义词汇列表 "),U=(0,o._)("hr",null,null,-1),E=(0,o._)("div",{style:{display:"inline-block",height:"3.5%",width:"30%",border:"1px black solid"}},"词语",-1),H=(0,o._)("div",{style:{display:"inline-block",height:"3.5%",width:"30%",border:"1px black solid"}},"词性",-1),K={style:{display:"inline-block",height:"10%",width:"30%",border:"1px black solid"}},O={style:{display:"inline-block",height:"10%",width:"30%",border:"1px black solid"}},Y=["onClick"];function J(i,t,l,v,J,N){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",d,[s,n,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.sample,(i=>((0,o.wg)(),(0,o.iD)("div",{key:i.word,style:{display:"inline-block",height:"65%",width:"7%","line-height":"65px","margin-left":"12px","border-radius":"18%","text-align":"center",color:"white","font-size":"20px"},class:(0,e.C_)(i.flag)},(0,e.zw)(i.word),3)))),128))]),(0,o._)("div",h,[p,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.arr,(i=>((0,o.wg)(),(0,o.iD)("div",{key:i.key,class:(0,e.C_)(["basic",i.flag])},(0,e.zw)(i.word),3)))),128))]),(0,o._)("div",_,[c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.arr2,(i=>((0,o.wg)(),(0,o.iD)("div",{key:i.key,class:(0,e.C_)(["basic",i.flag])},(0,e.zw)(i.word),3)))),128))]),(0,o._)("div",g,[(0,o._)("div",u,[w,f,y,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>J.form_data.word=i)},null,512),[[a.nr,J.form_data.word]]),k,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[1]||(t[1]=i=>J.form_data.flag=i)},b,512),[[a.bM,J.form_data.flag]]),(0,o._)("button",{onClick:t[2]||(t[2]=(...i)=>N.add_diy&&N.add_diy(...i))},"确认添加"),m,(0,o._)("button",{onClick:t[3]||(t[3]=(...i)=>N.refresh&&N.refresh(...i))},"重新进行词性分析"),x,(0,o._)("button",{onClick:t[4]||(t[4]=(...i)=>N.clear_diylist&&N.clear_diylist(...i))},"清除所有自定义词语")]),z,(0,o._)("button",{onClick:t[5]||(t[5]=(...i)=>N.to_excel&&N.to_excel(...i)),style:{height:"30px","font-size":"18px",display:"block"}},"导出至文件")]),(0,o._)("div",C,[D,U,E,H,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(J.diy_list,(i=>((0,o.wg)(),(0,o.iD)("div",{key:i.key},[(0,o._)("div",K,(0,e.zw)(i.word),1),(0,o._)("div",O,(0,e.zw)(i.flag),1),(0,o._)("div",{style:{display:"inline-block",height:"10%",width:"30%",border:"1px black solid",cursor:"pointer"},onClick:t=>N.delete_item(i)},"删除",8,Y)])))),128))])])}var N=l(6211),S=l.n(N),j={data(){return{arr:[],arr2:[],str_2:this.str_1,form_data:{word:"",flag:""},diy_list:[],xls_save:"",sample:[{word:"名词",flag:"n"},{word:"动词",flag:"v"},{word:"形容词",flag:"a"},{word:"副词",flag:"d"},{word:"专有名词",flag:"nz"},{word:"代词",flag:"r"},{word:"数词",flag:"m"},{word:"量词",flag:"q"},{word:"连词",flag:"c"},{word:"助词",flag:"u"},{word:"标点符号",flag:"x"}],p:0}},mounted(){this.refresh()},methods:{refresh(){S()({url:"http://127.0.0.1:8080/to_dir",data:JSON.stringify({text:this.str_2,diy:this.diy_list}),method:"post"}).then((i=>{this.arr=this.arr2,console.log(i.data),this.arr2=[];for(var t=0;t<i.data.word.length;t++)this.arr2.push({word:i.data.word[t],flag:i.data.flag[t],key:t});console.log(this.arr2),!this.p&&(this.arr=this.arr2)}),(i=>{console.log(i.message)}))},to_excel(){JSON.stringify({list:this.arr});S()({url:"http://127.0.0.1:8080/wa_save",data:JSON.stringify({list:this.arr}),dataType:"json",method:"post"}).then((i=>{console.log(i.data);var t=document.createElement("a"),l=document.createEvent("MouseEvents");t.download="分析结果",t.href="/group1/wordanaly/"+i.data,l.initEvent("click",!0,!0),t.dispatchEvent(l),window.URL.revokeObjectURL(t.href)}),(i=>{console.log(i.message)}))},add_diy(){if(""==this.form_data.word||""==this.form_data.flag)return alert("请添加有效的词语及词性");this.diy_list.push({word:this.form_data.word,flag:this.form_data.flag,key:this.diy_list.length+1})},delete_item(i){this.diy_list.splice(i.key-1,1);for(var t=i.key-1;t<this.diy_list.length+1;t++)this.diy_list[t].key-=1},clear_diylist(){this.diy_list=[]}},props:["str_1"]},L=l(8998);const M=(0,L.Z)(j,[["render",J]]);var R=M}}]);
//# sourceMappingURL=89.4771c485.js.map